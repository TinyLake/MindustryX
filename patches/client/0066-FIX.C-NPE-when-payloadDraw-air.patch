From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Sun, 17 Nov 2024 20:39:42 +0800
Subject: [PATCH] FIX.C NPE when `payloadDraw` air

---
 core/src/mindustry/entities/comp/BuildingComp.java | 1 +
 1 file changed, 1 insertion(+)

diff --git a/core/src/mindustry/entities/comp/BuildingComp.java b/core/src/mindustry/entities/comp/BuildingComp.java
index d4afa6328936392735c2c950c78a83556848b465..89cd1992b353aff5dd85e553792df72c70195a43 100644
--- a/core/src/mindustry/entities/comp/BuildingComp.java
+++ b/core/src/mindustry/entities/comp/BuildingComp.java
@@ -1204,6 +1204,7 @@ abstract class BuildingComp implements Posc, Teamc, Healthc, Buildingc, Timerc,
     }
 
     public void payloadDraw(){
+        if(block.isAir()) return;
         draw();
     }
 
