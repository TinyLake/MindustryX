From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Mon, 2 Sep 2024 21:56:38 +0800
Subject: [PATCH] API: more error log

---
 core/src/mindustry/core/Control.java    | 1 +
 core/src/mindustry/core/World.java      | 1 +
 core/src/mindustry/game/FogControl.java | 4 +++-
 3 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/core/src/mindustry/core/Control.java b/core/src/mindustry/core/Control.java
index 0e65f6091b906412ce8e52b54d10891182798738..ca89aae6aecc3ca751b5fc7d3b3259f9f385caf4 100644
--- a/core/src/mindustry/core/Control.java
+++ b/core/src/mindustry/core/Control.java
@@ -662,6 +662,7 @@ public class Control implements ApplicationListener, Loadable{
         try{
             assets.update();
         }catch(Exception ignored){
+            Log.err(ignored);
         }
 
         input.updateState();
diff --git a/core/src/mindustry/core/World.java b/core/src/mindustry/core/World.java
index c5bfcd6d14b6cf38519eb11f29e1ab55b11443cd..8d13c1102d6f66a53d3e29afbd9ef42a8abd0776 100644
--- a/core/src/mindustry/core/World.java
+++ b/core/src/mindustry/core/World.java
@@ -238,6 +238,7 @@ public class World{
     }
 
     public Rect getQuadBounds(Rect in){
+        if(height() == 0) throw new Error("World is empty");
         return in.set(-finalWorldBounds, -finalWorldBounds, width() * tilesize + finalWorldBounds * 2, height() * tilesize + finalWorldBounds * 2);
     }
 
diff --git a/core/src/mindustry/game/FogControl.java b/core/src/mindustry/game/FogControl.java
index 4ef68bf44d62001517049f20ab3a1c07cd7cf382..f5a383a4636a48408685407917775b64ba07bc55 100644
--- a/core/src/mindustry/game/FogControl.java
+++ b/core/src/mindustry/game/FogControl.java
@@ -337,7 +337,9 @@ public final class FogControl implements CustomChunk{
 
                     updateStatic();
                     //ignore, don't want to crash this thread
-                }catch(Exception e){}
+                }catch(Exception e){
+                    Log.err(e);
+                }
             }
         }
     }
