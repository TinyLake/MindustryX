From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Sat, 9 Aug 2025 14:04:46 +0800
Subject: [PATCH] FIX.C: NPE in StackConveyorBuild.draw

---
 core/src/mindustry/world/blocks/distribution/StackConveyor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/core/src/mindustry/world/blocks/distribution/StackConveyor.java b/core/src/mindustry/world/blocks/distribution/StackConveyor.java
index 2897938e2511da2a5dcd1bae006553419c0c4080..86da09635704a3aa6e5297ed7a99919521886e90 100644
--- a/core/src/mindustry/world/blocks/distribution/StackConveyor.java
+++ b/core/src/mindustry/world/blocks/distribution/StackConveyor.java
@@ -141,7 +141,7 @@ public class StackConveyor extends Block implements Autotiler{
                 }
             }else if(state == stateUnload){ //front unload
                 //TOOD hacky front check
-                if((blendprox & (1)) != 0 && !front().block.squareSprite){
+                if((blendprox & (1)) != 0 && front() != null && !front().block.squareSprite){
                     Draw.rect(sliced(regions[0], SliceMode.top), x + Geometry.d4x(rotation) * tilesize*0.75f, y + Geometry.d4y(rotation) * tilesize*0.75f, rotation * 90f);
                 }
             }
